import{_ as t,D as e,c as n,j as i,a as s,I as l,a1 as h,o as p}from"./chunks/framework.6kAX4a8T.js";const r="/craft-mollie-payments/assets/subscriptions-form-type.CO69AZm8.png",q=JSON.parse('{"title":"Getting started with subscriptions - Mollie payments","description":"","frontmatter":{"title":"Getting started with subscriptions - Mollie payments","prev":false,"next":false},"headers":[],"relativePath":"subscription-getting-started.md","filePath":"subscription-getting-started.md"}'),o={name:"subscription-getting-started.md"},k={id:"subscriptions",tabindex:"-1"},E=i("a",{class:"header-anchor",href:"#subscriptions","aria-label":'Permalink to "Subscriptions  <Badge type="info" text="5.1.0" />"'},"​",-1),d=h('<p>Version 5.1.0 sees the introduction of support for Mollie&#39;s <a href="https://docs.mollie.com/docs/recurring-payments" target="_blank" rel="noreferrer">Recurring Payments</a>, through the <a href="https://docs.mollie.com/reference/subscriptions-api" target="_blank" rel="noreferrer">Subscriptions API</a>.</p><p>The plugin will handle the following:</p><ul><li>Creating a customer</li><li>Creating an initial payment - which, if successfull, allows us to create a <a href="https://docs.mollie.com/reference/create-mandate" target="_blank" rel="noreferrer">mandate</a></li><li>Create a subscription.</li></ul><p>Once the subscription is created, subsequent payments are handled automatically by Mollie - and will be reported back to the plugin, so you can keep track of all payments that happen within a subscription.</p><h2 id="creating-a-subscriptions-form" tabindex="-1">Creating a subscriptions form <a class="header-anchor" href="#creating-a-subscriptions-form" aria-label="Permalink to &quot;Creating a subscriptions form&quot;">​</a></h2><p>Since subscriptions come with a couple of extra requirements, payment forms now have a &quot;Payment Type&quot; option, with the following options:</p><ul><li>Single payment - <em>the classic one-off payment that was always available)</em></li><li>Subscription (recurring payment) - <em>the subscription option added in 5.1.0</em></li></ul><p><img src="'+r+`" alt="Payment form type setting"></p><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>Note that changing the type of a form is not possible once there are payments associated with that form.</p></div><h2 id="form-template" tabindex="-1">Form template <a class="header-anchor" href="#form-template" aria-label="Permalink to &quot;Form template&quot;">​</a></h2><p>This is a basic example that contains all required input &amp; actions to create a subscription.</p><h3 id="required-fields" tabindex="-1">Required fields <a class="header-anchor" href="#required-fields" aria-label="Permalink to &quot;Required fields&quot;">​</a></h3><br><h4 id="form" tabindex="-1"><code>form</code> <a class="header-anchor" href="#form" aria-label="Permalink to &quot;\`\`form\`\`&quot;">​</a></h4><p>handle of the form the payment belongs to, <strong>has to be hashed</strong></p><h4 id="interval" tabindex="-1"><code>interval</code> <a class="header-anchor" href="#interval" aria-label="Permalink to &quot;\`\`interval\`\`&quot;">​</a></h4><p>Interval to wait between payments, for example 1 month or 14 days.</p><p>The maximum interval is one year (<code>12 months</code>, <code>52 weeks</code>, or <code>365 days</code>).</p><p>Possible values: <code>... days</code> <code>... weeks</code> <code>...months</code></p><h3 id="not-required" tabindex="-1">Not required: <a class="header-anchor" href="#not-required" aria-label="Permalink to &quot;Not required:&quot;">​</a></h3><br><h4 id="times" tabindex="-1"><code>times</code> <a class="header-anchor" href="#times" aria-label="Permalink to &quot;\`\`times\`\`&quot;">​</a></h4><p>number of times x the above interval the subscription should run for. If not included, the subscription will run indefinitly.</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">form</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;post&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mb-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {{ csrfInput() }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {{ actionInput(&quot;mollie-payments/subscription/subscribe&quot;) }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {{ hiddenInput(&#39;form&#39;, &#39;subscriptionForm&#39;|hash) }}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {{ hiddenInput(&#39;interval&#39;, &#39;1 years&#39;) }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {{ hiddenInput(&#39;times&#39;, &#39;1&#39;) }}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   {{ redirectInput(&quot;/confirmation-page&quot;) }}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mt-4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;amount&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ &quot;Amount&quot;|t }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;amount&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;amount&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{ 25|hash }}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;€25&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{ 50|hash }}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;€50&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{ 75|hash }}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;€75&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{ 100|hash }}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;€100&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;submit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ &quot;Subscribe now&quot;|t }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">form</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div>`,24);function c(g,u,y,m,b,f){const a=e("Badge");return p(),n("div",null,[i("h1",k,[s("Subscriptions "),l(a,{type:"info",text:"5.1.0"}),s(),E]),d])}const _=t(o,[["render",c]]);export{q as __pageData,_ as default};
